!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(a){return e(t,a)})):"object"==typeof exports?e(t,require("jquery")):e(t,t.jQuery||t.Zepto)}(this,(function(t,e){"use strict";var a,n,o,s="remodal",i=t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.NAMESPACE||s,r=e.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],(function(t){return t+"."+i})).join(" "),l=e.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],(function(t){return t+"."+i})).join(" "),c=e.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.DEFAULTS),d="closing",u="closed",m="opening",p="opened",f="confirmation",h="cancellation",g=void 0!==(a=document.createElement("div").style).animationName||void 0!==a.WebkitAnimationName||void 0!==a.MozAnimationName||void 0!==a.msAnimationName||void 0!==a.OAnimationName,v=/iPad|iPhone|iPod/.test(navigator.platform);function k(t){if(g&&"none"===t.css("animation-name")&&"none"===t.css("-webkit-animation-name")&&"none"===t.css("-moz-animation-name")&&"none"===t.css("-o-animation-name")&&"none"===t.css("-ms-animation-name"))return 0;var e,a,n,o,s=t.css("animation-duration")||t.css("-webkit-animation-duration")||t.css("-moz-animation-duration")||t.css("-o-animation-duration")||t.css("-ms-animation-duration")||"0s",i=t.css("animation-delay")||t.css("-webkit-animation-delay")||t.css("-moz-animation-delay")||t.css("-o-animation-delay")||t.css("-ms-animation-delay")||"0s",r=t.css("animation-iteration-count")||t.css("-webkit-animation-iteration-count")||t.css("-moz-animation-iteration-count")||t.css("-o-animation-iteration-count")||t.css("-ms-animation-iteration-count")||"1";for(s=s.split(", "),i=i.split(", "),r=r.split(", "),o=0,a=s.length,e=Number.NEGATIVE_INFINITY;o<a;o++)(n=parseFloat(s[o])*parseInt(r[o],10)+parseFloat(i[o]))>e&&(e=n);return e}function y(){if(e(document).height()<=e(window).height())return 0;var t,a,n=document.createElement("div"),o=document.createElement("div");return n.style.visibility="hidden",n.style.width="100px",document.body.appendChild(n),t=n.offsetWidth,n.style.overflow="scroll",o.style.width="100%",n.appendChild(o),a=o.offsetWidth,n.parentNode.removeChild(n),t-a}function b(){if(!v){var t,a,n=e("html"),o=C("is-locked");n.hasClass(o)&&(a=e(document.body),t=parseInt(a.css("padding-right"),10)-y(),a.css("padding-right",t+"px"),n.removeClass(o))}}function $(t,e,a,n){var o=C("is",e),s=[C("is",d),C("is",m),C("is",u),C("is",p)].join(" ");t.$bg.removeClass(s).addClass(o),t.$overlay.removeClass(s).addClass(o),t.$wrapper.removeClass(s).addClass(o),t.$modal.removeClass(s).addClass(o),t.state=e,!a&&t.$modal.trigger({type:e,reason:n},[{reason:n}])}function w(t,a,n){var o=0,s=function(t){t.target===this&&o++},i=function(t){t.target===this&&0==--o&&(e.each(["$bg","$overlay","$wrapper","$modal"],(function(t,e){n[e].off(r+" "+l)})),a())};e.each(["$bg","$overlay","$wrapper","$modal"],(function(t,e){n[e].on(r,s).on(l,i)})),t(),0===k(n.$bg)&&0===k(n.$overlay)&&0===k(n.$wrapper)&&0===k(n.$modal)&&(e.each(["$bg","$overlay","$wrapper","$modal"],(function(t,e){n[e].off(r+" "+l)})),a())}function M(t){t.state!==u&&(e.each(["$bg","$overlay","$wrapper","$modal"],(function(e,a){t[a].off(r+" "+l)})),t.$bg.removeClass(t.settings.modifier),t.$overlay.removeClass(t.settings.modifier).hide(),t.$wrapper.hide(),b(),$(t,u,!0))}function C(){for(var t=i,e=0;e<arguments.length;++e)t+="-"+arguments[e];return t}function A(){var t,a,o=location.hash.replace("#","");if(o){try{a=e('[data-remodal-id="'+o+'"]')}catch(t){}a&&a.length&&(t=e.remodal.lookup[a.data(s)])&&t.settings.hashTracking&&t.open()}else n&&n.state===p&&n.settings.hashTracking&&n.close()}function j(t,a){var n=e(document.body),o=this;o.settings=e.extend({},c,a),o.index=e.remodal.lookup.push(o)-1,o.state=u,o.$overlay=e("."+C("overlay")),null!==o.settings.appendTo&&o.settings.appendTo.length&&(n=e(o.settings.appendTo)),o.$overlay.length||(o.$overlay=e("<div>").addClass(C("overlay")+" "+C("is",u)).hide(),n.append(o.$overlay)),o.$bg=e("."+C("bg")).addClass(C("is",u)),o.$modal=t.addClass(i+" "+C("is-initialized")+" "+o.settings.modifier+" "+C("is",u)).attr("tabindex","-1"),o.$wrapper=e("<div>").addClass(C("wrapper")+" "+o.settings.modifier+" "+C("is",u)).hide().append(o.$modal),n.append(o.$wrapper),o.$wrapper.on("click."+i,'[data-remodal-action="close"]',(function(t){t.preventDefault(),o.close()})),o.$wrapper.on("click."+i,'[data-remodal-action="cancel"]',(function(t){t.preventDefault(),o.$modal.trigger(h),o.settings.closeOnCancel&&o.close(h)})),o.$wrapper.on("click."+i,'[data-remodal-action="confirm"]',(function(t){t.preventDefault(),o.$modal.trigger(f),o.settings.closeOnConfirm&&o.close(f)})),o.$wrapper.on("click."+i,(function(t){e(t.target).hasClass(C("wrapper"))&&o.settings.closeOnOutsideClick&&o.close()}))}j.prototype.open=function(){var t,a=this;a.state!==m&&a.state!==d&&((t=a.$modal.attr("data-remodal-id"))&&a.settings.hashTracking&&(o=e(window).scrollTop(),location.hash=t),n&&n!==a&&M(n),n=a,function(){if(!v){var t,a,n=e("html"),o=C("is-locked");n.hasClass(o)||(a=e(document.body),t=parseInt(a.css("padding-right"),10)+y(),a.css("padding-right",t+"px"),n.addClass(o))}}(),a.$bg.addClass(a.settings.modifier),a.$overlay.addClass(a.settings.modifier).show(),a.$wrapper.show().scrollTop(0),a.$modal.focus(),w((function(){$(a,m)}),(function(){$(a,p)}),a))},j.prototype.close=function(t){var a=this;a.state!==m&&a.state!==d&&a.state!==u&&(a.settings.hashTracking&&a.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",e(window).scrollTop(o)),w((function(){$(a,d,!1,t)}),(function(){a.$bg.removeClass(a.settings.modifier),a.$overlay.removeClass(a.settings.modifier).hide(),a.$wrapper.hide(),b(),$(a,u,!1,t)}),a))},j.prototype.getState=function(){return this.state},j.prototype.destroy=function(){var t=e.remodal.lookup;M(this),this.$wrapper.remove(),delete t[this.index],0===e.grep(t,(function(t){return!!t})).length&&(this.$overlay.remove(),this.$bg.removeClass(C("is",d)+" "+C("is",m)+" "+C("is",u)+" "+C("is",p)))},e.remodal={lookup:[]},e.fn.remodal=function(t){var a,n;return this.each((function(o,i){null==(n=e(i)).data(s)?(a=new j(n,t),n.data(s,a.index),a.settings.hashTracking&&n.attr("data-remodal-id")===location.hash.substr(1)&&a.open()):a=e.remodal.lookup[n.data(s)]})),a},e(document).ready((function(){e(document).on("click","[data-remodal-target]",(function(t){t.preventDefault();var a=t.currentTarget.getAttribute("data-remodal-target"),n=e('[data-remodal-id="'+a+'"]');e.remodal.lookup[n.data(s)].open()})),e(document).find("."+i).each((function(t,a){var n=e(a),o=n.data("remodal-options");o?("string"==typeof o||o instanceof String)&&(o=function(t){var e,a,n,o,s={};for(o=0,a=(e=(t=t.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",")).split(",")).length;o<a;o++)e[o]=e[o].split(":"),("string"==typeof(n=e[o][1])||n instanceof String)&&(n="true"===n||"false"!==n&&n),("string"==typeof n||n instanceof String)&&(n=isNaN(n)?n:+n),s[e[o][0]]=n;return s}(o)):o={},n.remodal(o)})),e(document).on("keydown."+i,(function(t){n&&n.settings.closeOnEscape&&n.state===p&&27===t.keyCode&&n.close()})),e(window).on("hashchange."+i,A)}))})),function(t,e,a){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=t(require("jquery")):t(e||a)}((function(t){"use strict";var e=function(e,a,n){var o={invalid:[],getCaret:function(){try{var t,a=0,n=e.get(0),s=document.selection,i=n.selectionStart;return s&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=s.createRange()).moveStart("character",-o.val().length),a=t.text.length):(i||"0"===i)&&(a=i),a}catch(t){}},setCaret:function(t){try{if(e.is(":focus")){var a,n=e.get(0);n.setSelectionRange?n.setSelectionRange(t,t):((a=n.createTextRange()).collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select())}}catch(t){}},events:function(){e.on("keydown.mask",(function(t){e.data("mask-keycode",t.keyCode||t.which),e.data("mask-previus-value",e.val()),e.data("mask-previus-caret-pos",o.getCaret()),o.maskDigitPosMapOld=o.maskDigitPosMap})).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",o.behaviour).on("paste.mask drop.mask",(function(){setTimeout((function(){e.keydown().keyup()}),100)})).on("change.mask",(function(){e.data("changed",!0)})).on("blur.mask",(function(){r===o.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)})).on("blur.mask",(function(){r=o.val()})).on("focus.mask",(function(e){!0===n.selectOnFocus&&t(e.target).select()})).on("focusout.mask",(function(){n.clearIfNotMatch&&!s.test(o.val())&&o.val("")}))},getRegexMask:function(){for(var t,e,n,o,s,r,l=[],c=0;c<a.length;c++)(t=i.translation[a.charAt(c)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(o=t.recursive)?(l.push(a.charAt(c)),s={digit:a.charAt(c),pattern:e}):l.push(n||o?e+"?":e)):l.push(a.charAt(c).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=l.join(""),s&&(r=r.replace(new RegExp("("+s.digit+"(.*"+s.digit+")?)"),"($1)?").replace(new RegExp(s.digit,"g"),s.pattern)),new RegExp(r)},destroyEvents:function(){e.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var a,n=e.is("input"),o=n?"val":"text";return arguments.length>0?(e[o]()!==t&&e[o](t),a=e):a=e[o](),a},calculateCaretPosition:function(t){var a=o.getMasked(),n=o.getCaret();if(t!==a){var s=e.data("mask-previus-caret-pos")||0,i=a.length,r=t.length,l=0,c=0,d=0,u=0,m=0;for(m=n;m<i&&o.maskDigitPosMap[m];m++)c++;for(m=n-1;m>=0&&o.maskDigitPosMap[m];m--)l++;for(m=n-1;m>=0;m--)o.maskDigitPosMap[m]&&d++;for(m=s-1;m>=0;m--)o.maskDigitPosMapOld[m]&&u++;if(n>r)n=10*i;else if(s>=n&&s!==r){if(!o.maskDigitPosMapOld[n]){var p=n;n-=u-d,n-=l,o.maskDigitPosMap[n]&&(n=p)}}else n>s&&(n+=d-u,n+=c)}return n},behaviour:function(a){a=a||window.event,o.invalid=[];var n=e.data("mask-keycode");if(-1===t.inArray(n,i.byPassKeys)){var s=o.getMasked(),r=o.getCaret(),l=e.data("mask-previus-value")||"";return setTimeout((function(){o.setCaret(o.calculateCaretPosition(l))}),t.jMaskGlobals.keyStrokeCompensation),o.val(s),o.setCaret(r),o.callbacks(a)}},getMasked:function(t,e){var s,r,l,c=[],d=void 0===e?o.val():e+"",u=0,m=a.length,p=0,f=d.length,h=1,g="push",v=-1,k=0,y=[];for(n.reverse?(g="unshift",h=-1,s=0,u=m-1,p=f-1,r=function(){return u>-1&&p>-1}):(s=m-1,r=function(){return u<m&&p<f});r();){var b=a.charAt(u),$=d.charAt(p),w=i.translation[b];w?($.match(w.pattern)?(c[g]($),w.recursive&&(-1===v?v=u:u===s&&u!==v&&(u=v-h),s===v&&(u-=h)),u+=h):$===l?(k--,l=void 0):w.optional?(u+=h,p-=h):w.fallback?(c[g](w.fallback),u+=h,p-=h):o.invalid.push({p:p,v:$,e:w.pattern}),p+=h):(t||c[g](b),$===b?(y.push(p),p+=h):(l=b,y.push(p+k),k++),u+=h)}var M=a.charAt(s);m!==f+1||i.translation[M]||c.push(M);var C=c.join("");return o.mapMaskdigitPositions(C,y,f),C},mapMaskdigitPositions:function(t,e,a){var s=n.reverse?t.length-a:0;o.maskDigitPosMap={};for(var i=0;i<e.length;i++)o.maskDigitPosMap[e[i]+s]=1},callbacks:function(t){var s=o.val(),i=s!==r,l=[s,t,e,n],c=function(t,e,a){"function"==typeof n[t]&&e&&n[t].apply(this,a)};c("onChange",!0===i,l),c("onKeyPress",!0===i,l),c("onComplete",s.length===a.length,l),c("onInvalid",o.invalid.length>0,[s,t,e,o.invalid,n])}};e=t(e);var s,i=this,r=o.val();a="function"==typeof a?a(o.val(),void 0,e,n):a,i.mask=a,i.options=n,i.remove=function(){var t=o.getCaret();return i.options.placeholder&&e.removeAttr("placeholder"),e.data("mask-maxlength")&&e.removeAttr("maxlength"),o.destroyEvents(),o.val(i.getCleanVal()),o.setCaret(t),e},i.getCleanVal=function(){return o.getMasked(!0)},i.getMaskedVal=function(t){return o.getMasked(!1,t)},i.init=function(r){if(r=r||!1,n=n||{},i.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,i.byPassKeys=t.jMaskGlobals.byPassKeys,i.translation=t.extend({},t.jMaskGlobals.translation,n.translation),i=t.extend(!0,{},i,n),s=o.getRegexMask(),r)o.events(),o.val(o.getMasked());else{n.placeholder&&e.attr("placeholder",n.placeholder),e.data("mask")&&e.attr("autocomplete","off");for(var l=0,c=!0;l<a.length;l++){var d=i.translation[a.charAt(l)];if(d&&d.recursive){c=!1;break}}c&&e.attr("maxlength",a.length).data("mask-maxlength",!0),o.destroyEvents(),o.events();var u=o.getCaret();o.val(o.getMasked()),o.setCaret(u)}},i.init(!e.is("input"))};t.maskWatchers={};var a=function(){var a=t(this),o={},s="data-mask-",i=a.attr("data-mask");if(a.attr(s+"reverse")&&(o.reverse=!0),a.attr(s+"clearifnotmatch")&&(o.clearIfNotMatch=!0),"true"===a.attr(s+"selectonfocus")&&(o.selectOnFocus=!0),n(a,i,o))return a.data("mask",new e(this,i,o))},n=function(e,a,n){n=n||{};var o=t(e).data("mask"),s=JSON.stringify,i=t(e).val()||t(e).text();try{return"function"==typeof a&&(a=a(i)),"object"!=typeof o||s(o.options)!==s(n)||o.mask!==a}catch(t){}};t.fn.mask=function(a,o){o=o||{};var s=this.selector,i=t.jMaskGlobals,r=i.watchInterval,l=o.watchInputs||i.watchInputs,c=function(){if(n(this,a,o))return t(this).data("mask",new e(this,a,o))};return t(this).each(c),s&&""!==s&&l&&(clearInterval(t.maskWatchers[s]),t.maskWatchers[s]=setInterval((function(){t(document).find(s).each(c)}),r)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each((function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")}))},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(e){((e=e||t.jMaskGlobals.maskElements)instanceof t?e:t(e)).filter(t.jMaskGlobals.dataMaskAttr).each(a)};var o,s,i,r={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&(o="input",i=document.createElement("div"),(s=(o="on"+o)in i)||(i.setAttribute(o,"return;"),s="function"==typeof i[o]),i=null,s),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{},(r=t.jMaskGlobals=t.extend(!0,{},r,t.jMaskGlobals)).dataMask&&t.applyDataMask(),setInterval((function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()}),r.watchInterval)}),window.jQuery,window.Zepto),$((function(){$(".js-phone-mask").inputmask("+7(999)999-9999"),$(".js-menu").on("click",(function(){$(this).toggleClass("active"),$("body").toggleClass("lock"),$(".header__nav").toggleClass("active")})),jQuery.validator.addMethod("checkMaskPhone",(function(t,e){return/\+\d{1}\(\d{3}\)\d{3}-\d{4}/g.test(t)}));let t=$(".js-send-form");t.validate(),$.validator.addClassRules({"js-phone-mask":{checkMaskPhone:!0}}),t.submit((function(e){if(e.preventDefault(),t.valid()){alert("Форма отправлена"),$("[data-remodal-id=modal]").remodal().close()}}))}));const arr=[];function fetchItems(t=1){fetch(`https://jsonplaceholder.typicode.com/posts?_page=${t}&_limit=5`).then((t=>t.json())).then((t=>{arr.value=t}))}function temp(t,e){return`\n                <article class="product-item">\n                    <figure class="product-item__figure">\n                        <img class="img-fluid" src="https://placehold.co/320x185" width="320" height="185"\n                             alt="How to increase your productivity with a Music">\n                    </figure>\n                    <div class="product-item__content">\n                        <div class="product-item__label">bridge</div>\n                        <h4 class="product-item__name">${t}</h4>\n                        <p class="product-item__text">${e}</p>\n                        <div class="product-item__date">Posted by <b>Eugenia</b>, on July 24, 2019</div>\n                        <a href="#" class="btn btn-primary">Continue reading</a>\n                    </div>\n                </article>`}fetchItems();const jsMore=document.querySelector(".js-more");let count=1;jsMore.addEventListener("click",(function(t){if(t.preventDefault(),count++,count<6){const t=document.querySelector(".cards__body");arr.value.forEach(((e,a)=>{console.log("temp",e.title);const n=temp(e.title,e.body);t.insertAdjacentHTML("beforeend",n)})),fetchItems(count)}else jsMore.remove()}));